{% extends "layout.html" %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="display-1">Product Details</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <p class="lead">This is the details page for the product</p>
                <hr />
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <img src="{{ product.image.url }}"
                     alt="{{ product.name }}"
                     class="img-fluid mb-2 border rounded">
            </div>
            <div class="col-md-6">
                <h2>{{ product.name }}</h2>
                <p>{{ product.description }}</p>
                <p>
                    <strong>Category:</strong> {{ product.category }}
                </p>
                <p>
                    <strong>Available:</strong> {{ product.stock }}
                </p>
                <p>
                    <strong>{{ product.price }} $</strong>
                </p>
                <a href="{% url "add_to_cart" product.id %}" class="btn btn-primary">Add to cart</a>
                
                
            </div>
                <!-- Messages Display - Fixed Position Overlay at Bottom -->
    {% if messages %}
        <div class="position-fixed bottom-0 start-50 translate-middle-x w-50" style="z-index: 1055; margin-bottom: 20px;">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-lg" role="alert" style="min-width: 300px;">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 3000); 
            });
        });
    </script>
{% endblock content %}
